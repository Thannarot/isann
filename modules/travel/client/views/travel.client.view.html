<div ui-view="nav"></div>

<section class="map-section" ng-controller="travelCtrl">
  <!-- LEFT FILTER PANEL -->
  <div id="menuSidenav" class="sidenavTravel sidenav-left" ng-class="{ 'sidenav-open': isSidenavOpen }">

    <a href="javascript:void(0)" id="menu-close-btn" class="closebtn" ng-click="toggleSidenav(false)">&times;</a>

    <div class="searching-form">
      <div class="form-group">
        <label>ชื่อสถานที่</label>
        <input type="text" class="form-control" id="pname" placeholder="พิมพ์ชื่อสถานที่" ng-model="filters.name">
      </div>

      <div class="form-group">
        <label>จังหวัด</label>
        <select class="form-control" id="province_selector" ng-model="filters.province"
          ng-options="p for p in provinces" ng-change="onProvinceChange()">
          <option value="">ทั้งหมด</option>
        </select>
      </div>

      <div class="form-group">
        <label>อำเภอ</label>
        <select class="form-control" id="city_selector" ng-model="filters.city" ng-options="c for c in cities"
          ng-change="onCityChange()">
          <option value="">ทั้งหมด</option>
        </select>
      </div>

      <div class="form-group">
        <label>ตำบล</label>
        <select class="form-control" id="township_selector" ng-model="filters.township"
          ng-options="t for t in townships">
          <option value="">ทั้งหมด</option>
        </select>
      </div>

      <div class="form-group">
        <label>ประเภทของสถานที่</label>
        <select class="form-control" id="ptype_selector" ng-model="filters.ptype"
          ng-options="type.value as type.label for type in placeTypes">
          <option value="9999">ทั้งหมด</option>
        </select>
      </div>

      <input type="text" id="geo-lat" ng-model="filters.lat" hidden />
      <input type="text" id="geo-lng" ng-model="filters.lng" hidden />

      <hr>
      <button type="button" id="filter-btn" class="btn btn-primary" ng-click="applyFilters()">ค้นหาสถานที่</button>
      <button type="button" id="filter-all-btn" class="btn btn-secondary" style="float:right;"
        ng-click="clearFilters()">แสดงทั้งหมด</button>
      <div style="clear:both;"></div>
    </div>
  </div>

  <!-- MAP + OPEN PANEL BUTTON -->
  <div id="map">
    <button id="menuOpenBtn" class="sidenav-open-btn" ng-click="toggleSidenav(true)">☰ ค้นหา/กรอง</button>

    <button id="planTripBtn">วางแผนการเดินทาง</button>

    <div class="destination-list" ng-if="trustedDestinationsHtml">
      <div style="display:flex;justify-content:space-between;align-items:center;">
        <h3 style="margin:0;">จุดหมายที่เลือก</h3>
        <button class="clear-btn" ng-click="clearDestinations()">ล้างรายการ</button>
      </div>
      <div ng-bind-html="trustedDestinationsHtml"></div>
    </div>
  </div>
</section>

<div ui-view="footer"></div>